<template>
    <div>

        <!-- <div ref="container" style="height: 600px; min-width: 310px"></div> -->
        <div>
            Home : ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
            About Us :‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤
                - General ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
                - REIT Structure ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏™‡∏ï‡πå
                - * milestone
            Management : ‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
                - Reit Manager : ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏™‡∏ï‡πå
                - * ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ : organizational structure
                - * ‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó : Board of Directors
                - * ‡∏Ñ‡∏ì‡∏∞‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ : Management Team
                -TrustTee : ‡∏ó‡∏£‡∏±‡∏™‡∏ï‡∏µ
            Asset Investment : ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∏‡∏ô
            Investor Relation : ‡∏ô‡∏±‡∏Å‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå 
                - Financial StockInformation : ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô
                    - * ‡∏á‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô : Financial Statement
                    - * ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (Unit NAV) 
                - Stock Information : ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå
                    - * ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå : stock Quote
                    - * ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á : Historical Price
                - Unitholders Information : ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏ñ‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏£‡∏±‡∏™‡∏ï‡πå
                    - * ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ñ‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏£‡∏±‡∏™‡∏ï‡πå : Unitholders Structure
                    - * ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ú‡∏π‡πâ‡∏ñ‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏£‡∏±‡∏™‡∏ï‡πå : Unitholders Meeting
                    - * ‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏• : compensation
                - Published Docments : ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà
                    - Annual Reports and Form 56-REIT : ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö 56-REIT
                    - Appraisal Reports :‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô
                    - Prospectus : ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ä‡∏µ‡πâ‡∏ä‡∏ß‡∏ô
                    - * ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏•‡∏á‡∏ó‡∏∏‡∏ô
            New Roow : ‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡πà‡∏≤‡∏ß
                - SET Announcements : ‡∏Ç‡πà‡∏≤‡∏ß‡πÅ‡∏à‡πâ‡∏á‡∏ï‡∏•‡∏≤‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå
                - * ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô ‡πÜ
                
                - Press Releass : ‡∏Ç‡πà‡∏≤‡∏ß‡∏à‡∏≤‡∏Å‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏û‡∏¥‡∏° (‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å)
                - Clippings: ‡∏Ç‡πà‡∏≤‡∏ß‡∏à‡∏≤‡∏Å‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏û‡∏¥‡∏° (‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å)
                - Video: ‡∏™‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏î‡∏¥‡πÇ‡∏≠‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å)

            Contact Us : ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref, onMounted, onBeforeUnmount } from 'vue';
import Highcharts from 'highcharts/highstock';

const container = ref<HTMLDivElement | null>(null);
let chart: Highcharts.Chart | null = null;
function changeChartType(type: 'line' | 'area' | 'candlestick' | 'ohlc') {
    if (!chart) return;

    const mainSeries = chart.series[0]; // ‡∏™‡∏°‡∏°‡∏∏‡∏ï‡∏¥‡∏ß‡πà‡∏≤ series[0] ‡∏Ñ‡∏∑‡∏≠ main chart (‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå)

    mainSeries.update({
        type: type,
    }, false);

    chart.redraw(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏£‡∏≤‡∏ü
}


onMounted(async () => {
    const response = await fetch('https://www.inetreit.com/stockservice/getStockNew/INETREIT.BK/1900', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        }
    });


    const rawData = await response.json();

    const ohlc: Array<[number, number, number, number, number]> = [];
    const volume: Array<[number, number]> = [];
    // const groupingUnits = [
    //     ['week', [1]],
    //     ['month', [1, 2, 3, 4, 6]]
    // ];
    const groupingUnits = [
        ['day', [1, 2, 3, 5, 10, 15, 30]], // üëà ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
        ['week', [1]],
        ['month', [1, 2, 3, 4, 6]]
    ];

    for (let i = 0; i < rawData.length; i++) {
        const timestamp = new Date(rawData[i].date + 'T00:00:00Z').getTime();


        ohlc.push([
            timestamp,
            rawData[i].open,
            rawData[i].high,
            rawData[i].low,
            rawData[i].close
        ]);

        volume.push([
            timestamp,
            rawData[i].volume
        ]);
    }

    if (container.value) {
        Highcharts.setOptions({
            lang: {
                // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô error ‡∏à‡∏≤‡∏Å Intl.NumberFormat
                decimalPoint: '.',
                thousandsSep: ','
            }
            
        });

        chart = Highcharts.chart(container.value, {
            chart: {
                type: 'column'
            },
            title: {
                text: '‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô'
            },
            xAxis: {
                categories: ['USA', 'China', 'Brazil', 'EU', 'Argentina', 'India'],
                crosshair: true,
                accessibility: {
                    description: 'Countries'
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: '1000 metric tons (MT)'
                }
            },
            tooltip: {
                valueSuffix: ' (1000 MT)'
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: [
                {
                    name: 'Corn',
                    data: [387749, 280000, 129000, 64300, 54000, 34300]
                },
                {
                    name: 'Wheat',
                    data: [45321, 140000, 10000, 140500, 19500, 113500]
                }
            ]
        });


    }
});


onBeforeUnmount(() => {
    if (chart) {
        chart.destroy();
    }
});
</script>

<style>
.highcharts-range-input {
    border: 1px solid #fd2222 !important;
    /* Tailwind gray-700 */
    border-radius: 4px;
    padding: 4px 8px;
    background-color: #fff;
    font-size: 14px;
    color: #111827;
    /* Tailwind gray-900 */
}
</style>
